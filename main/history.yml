base_task:
  input: tac {arg1} | grep -v '^\s*$' | awk '!l[$0]++'
  query: '{arg3} '
  opts:
    - no-sort
    - preview-window='hidden:up:30%:wrap'
  output:
    enter:
        - pipe: awk 'BEGIN{print "execute"} {print $0}'
    ctrl-a:
        - pipe: awk 'BEGIN{print "start"} {print $0}'
    ctrl-e:
        - pipe: awk 'BEGIN{print "end"} {print $0}'
switch_task:
  ctrl-r:
    input: tac {arg2} | bash {ymldir}/history_all.sh
    opts:
        - preview-window='up:30%:wrap'

